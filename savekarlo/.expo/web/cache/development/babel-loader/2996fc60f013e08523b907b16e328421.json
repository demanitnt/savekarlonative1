{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"E:\\\\savekarlonativegit\\\\savekarlonative\\\\savekarlo\\\\CommitteeMembers\\\\AddOneCommittee.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { FAB, TextInput } from \"react-native-paper\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport firebase from \"firebase\";\nimport { auth, db } from \"../firebase\";\nimport styles from \"../styles\";\n\nvar AddOneCommittee = function AddOneCommittee(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useForm = useForm(),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.formState.errors;\n\n  var onSubmit = function onSubmit(data) {\n    var user, committee, ref, refJunction, addedCommitteeId, junctionRel;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            user = auth.currentUser;\n            _context.prev = 1;\n            console.log(\"The date is\", data);\n            committee = {\n              comName: data.nameofcommittee,\n              comShare: data.committeeshare,\n              completed: false,\n              belongsTo: user.uid,\n              createdAt: firebase.firestore.FieldValue.serverTimestamp()\n            };\n            ref = db.collection(\"committees\").doc();\n            refJunction = db.collection(\"com_member_rel\");\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(ref.set(committee));\n\n          case 8:\n            addedCommitteeId = _context.sent;\n            junctionRel = {\n              com_id: ref.id,\n              member_id: user.uid,\n              Jan: false,\n              Feb: false,\n              Mar: false,\n              Apr: false,\n              May: false,\n              Jun: false,\n              Jul: false,\n              Aug: false,\n              Sep: false,\n              Oct: false,\n              Nov: false,\n              Dec: false\n            };\n            _context.next = 12;\n            return _regeneratorRuntime.awrap(refJunction.add(junctionRel));\n\n          case 12:\n            navigation.goBack();\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 15]], Promise);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Controller, {\n    control: control,\n    render: function render(_ref2) {\n      var _ref2$field = _ref2.field,\n          onChange = _ref2$field.onChange,\n          onBlur = _ref2$field.onBlur,\n          value = _ref2$field.value;\n      return React.createElement(TextInput, {\n        label: \"Name of Committee\",\n        mode: \"outlined\",\n        onBlur: onBlur,\n        onChangeText: onChange,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }\n      });\n    },\n    name: \"nameofcommittee\",\n    rules: {\n      required: true\n    },\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, errors.nameofcommittee && React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 36\n    }\n  }, \" You must enter committee Name\")), React.createElement(Controller, {\n    control: control,\n    render: function render(_ref3) {\n      var _ref3$field = _ref3.field,\n          onChange = _ref3$field.onChange,\n          onBlur = _ref3$field.onBlur,\n          value = _ref3$field.value;\n      return React.createElement(TextInput, {\n        label: \"Committee Share\",\n        mode: \"outlined\",\n        onBlur: onBlur,\n        onChangeText: onChange,\n        value: value,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      });\n    },\n    name: \"committeeshare\",\n    rules: {\n      required: true\n    },\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, errors.committeeshare && React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 35\n    }\n  }, \" Enter Committee Share\")), React.createElement(FAB, {\n    style: styles.fab,\n    icon: \"plus\",\n    onPress: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default AddOneCommittee;","map":{"version":3,"sources":["E:/savekarlonativegit/savekarlonative/savekarlo/CommitteeMembers/AddOneCommittee.js"],"names":["React","FAB","TextInput","useForm","Controller","firebase","auth","db","styles","AddOneCommittee","navigation","control","handleSubmit","errors","formState","onSubmit","data","user","currentUser","console","log","committee","comName","nameofcommittee","comShare","committeeshare","completed","belongsTo","uid","createdAt","firestore","FieldValue","serverTimestamp","ref","collection","doc","refJunction","set","addedCommitteeId","junctionRel","com_id","id","member_id","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","add","goBack","field","onChange","onBlur","value","required","fab"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,iBAApC;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,IAAT,EAAeC,EAAf;AACA,OAAOC,MAAP;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAC1C,iBAIIP,OAAO,EAJX;AAAA,MACEQ,OADF,YACEA,OADF;AAAA,MAEEC,YAFF,YAEEA,YAFF;AAAA,MAGeC,MAHf,YAGEC,SAHF,CAGeD,MAHf;;AAMA,MAAME,QAAQ,GAAG,SAAXA,QAAW,CAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACTC,YAAAA,IADS,GACFX,IAAI,CAACY,WADH;AAAA;AAGbC,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BJ,IAA3B;AACMK,YAAAA,SAJO,GAIK;AAChBC,cAAAA,OAAO,EAAEN,IAAI,CAACO,eADE;AAEhBC,cAAAA,QAAQ,EAAER,IAAI,CAACS,cAFC;AAGhBC,cAAAA,SAAS,EAAE,KAHK;AAIhBC,cAAAA,SAAS,EAAEV,IAAI,CAACW,GAJA;AAKhBC,cAAAA,SAAS,EAAExB,QAAQ,CAACyB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B;AALK,aAJL;AAYPC,YAAAA,GAZO,GAYD1B,EAAE,CAAC2B,UAAH,CAAc,YAAd,EAA4BC,GAA5B,EAZC;AAaPC,YAAAA,WAbO,GAaO7B,EAAE,CAAC2B,UAAH,CAAc,gBAAd,CAbP;AAAA;AAAA,6CAegBD,GAAG,CAACI,GAAJ,CAAQhB,SAAR,CAfhB;;AAAA;AAeTiB,YAAAA,gBAfS;AAiBTC,YAAAA,WAjBS,GAiBK;AAChBC,cAAAA,MAAM,EAAEP,GAAG,CAACQ,EADI;AAEhBC,cAAAA,SAAS,EAAEzB,IAAI,CAACW,GAFA;AAGhBe,cAAAA,GAAG,EAAE,KAHW;AAIhBC,cAAAA,GAAG,EAAE,KAJW;AAKhBC,cAAAA,GAAG,EAAE,KALW;AAMhBC,cAAAA,GAAG,EAAE,KANW;AAOhBC,cAAAA,GAAG,EAAE,KAPW;AAQhBC,cAAAA,GAAG,EAAE,KARW;AAShBC,cAAAA,GAAG,EAAE,KATW;AAUhBC,cAAAA,GAAG,EAAE,KAVW;AAWhBC,cAAAA,GAAG,EAAE,KAXW;AAYhBC,cAAAA,GAAG,EAAE,KAZW;AAahBC,cAAAA,GAAG,EAAE,KAbW;AAchBC,cAAAA,GAAG,EAAE;AAdW,aAjBL;AAAA;AAAA,6CAiCPlB,WAAW,CAACmB,GAAZ,CAAgBhB,WAAhB,CAjCO;;AAAA;AAkCb7B,YAAAA,UAAU,CAAC8C,MAAX;AAlCa;AAAA;;AAAA;AAAA;AAAA;AAoCbrC,YAAAA,OAAO,CAACC,GAAR;;AApCa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AAuCA,SACE,0CACE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAET,OADX;AAEE,IAAA,MAAM,EAAE;AAAA,8BAAG8C,KAAH;AAAA,UAAYC,QAAZ,eAAYA,QAAZ;AAAA,UAAsBC,MAAtB,eAAsBA,MAAtB;AAAA,UAA8BC,KAA9B,eAA8BA,KAA9B;AAAA,aACN,oBAAC,SAAD;AACE,QAAA,KAAK,EAAC,mBADR;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,MAAM,EAAED,MAHV;AAIE,QAAA,YAAY,EAAED,QAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADM;AAAA,KAFV;AAUE,IAAA,IAAI,EAAC,iBAVP;AAWE,IAAA,KAAK,EAAE;AAAEG,MAAAA,QAAQ,EAAE;AAAZ,KAXT;AAYE,IAAA,YAAY,EAAC,EAZf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAeE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhD,MAAM,CAACU,eAAP,IAA0B,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAD7B,CAfF,EAmBE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAEZ,OADX;AAEE,IAAA,MAAM,EAAE;AAAA,8BAAG8C,KAAH;AAAA,UAAYC,QAAZ,eAAYA,QAAZ;AAAA,UAAsBC,MAAtB,eAAsBA,MAAtB;AAAA,UAA8BC,KAA9B,eAA8BA,KAA9B;AAAA,aACN,oBAAC,SAAD;AACE,QAAA,KAAK,EAAC,iBADR;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,MAAM,EAAED,MAHV;AAIE,QAAA,YAAY,EAAED,QAJhB;AAKE,QAAA,KAAK,EAAEE,KALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADM;AAAA,KAFV;AAWE,IAAA,IAAI,EAAC,gBAXP;AAYE,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAZT;AAaE,IAAA,YAAY,EAAC,EAbf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,EAkCE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhD,MAAM,CAACY,cAAP,IAAyB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAD5B,CAlCF,EAsCE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEjB,MAAM,CAACsD,GAAnB;AAAwB,IAAA,IAAI,EAAC,MAA7B;AAAoC,IAAA,OAAO,EAAElD,YAAY,CAACG,QAAD,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtCF,CADF;AA0CD,CAxFD;;AAyFA,eAAeN,eAAf","sourcesContent":["import React from \"react\";\r\nimport { Text, View } from \"react-native\";\r\nimport { FAB, TextInput } from \"react-native-paper\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport firebase from \"firebase\";\r\nimport { auth, db } from \"../firebase\";\r\nimport styles from \"../styles\";\r\n\r\nconst AddOneCommittee = ({ navigation }) => {\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    const user = auth.currentUser;\r\n    try {\r\n      console.log(\"The date is\", data);\r\n      const committee = {\r\n        comName: data.nameofcommittee,\r\n        comShare: data.committeeshare,\r\n        completed: false,\r\n        belongsTo: user.uid,\r\n        createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      };\r\n\r\n      const ref = db.collection(\"committees\").doc();\r\n      const refJunction = db.collection(\"com_member_rel\")\r\n\r\n      var addedCommitteeId = await ref.set(committee);\r\n\r\n      var junctionRel = {\r\n        com_id: ref.id,\r\n        member_id: user.uid,\r\n        Jan: false,\r\n        Feb: false,\r\n        Mar: false,\r\n        Apr: false,\r\n        May: false,\r\n        Jun: false,\r\n        Jul: false,\r\n        Aug: false,\r\n        Sep: false,\r\n        Oct: false,\r\n        Nov: false,\r\n        Dec: false,\r\n      };\r\n      await refJunction.add(junctionRel);\r\n      navigation.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Controller\r\n        control={control}\r\n        render={({ field: { onChange, onBlur, value } }) => (\r\n          <TextInput\r\n            label=\"Name of Committee\"\r\n            mode=\"outlined\"\r\n            onBlur={onBlur}\r\n            onChangeText={onChange}\r\n          />\r\n        )}\r\n        name=\"nameofcommittee\"\r\n        rules={{ required: true }}\r\n        defaultValue=\"\"\r\n      />\r\n      <View>\r\n        {errors.nameofcommittee && <Text> You must enter committee Name</Text>}\r\n      </View>\r\n\r\n      <Controller\r\n        control={control}\r\n        render={({ field: { onChange, onBlur, value } }) => (\r\n          <TextInput\r\n            label=\"Committee Share\"\r\n            mode=\"outlined\"\r\n            onBlur={onBlur}\r\n            onChangeText={onChange}\r\n            value={value}\r\n          />\r\n        )}\r\n        name=\"committeeshare\"\r\n        rules={{ required: true }}\r\n        defaultValue=\"\"\r\n      />\r\n      <View>\r\n        {errors.committeeshare && <Text> Enter Committee Share</Text>}\r\n      </View>\r\n\r\n      <FAB style={styles.fab} icon=\"plus\" onPress={handleSubmit(onSubmit)} />\r\n    </>\r\n  );\r\n};\r\nexport default AddOneCommittee;\r\n"]},"metadata":{},"sourceType":"module"}