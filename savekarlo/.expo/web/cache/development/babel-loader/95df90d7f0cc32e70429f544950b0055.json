{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"E:\\\\savekarlonative\\\\savekarlo\\\\CommitteeMembers\\\\AddOneCommittee.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { FAB, TextInput } from 'react-native-paper';\nimport { useForm, Controller } from 'react-hook-form';\nimport firebase from 'firebase';\nimport { auth, db } from \"../firebase\";\nimport styles from \"./styles\";\n\nvar AddOneCommittee = function AddOneCommittee(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useForm = useForm(),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.formState.errors;\n\n  var onSubmit = function onSubmit(data) {\n    var user, committee, ref, addedCommitteeId, junctionRel, refJunction;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            user = auth.currentUser;\n            _context.prev = 1;\n            console.log(\"The date is\", data);\n            committee = {\n              comName: data.nameofcommittee,\n              comShare: data.committeeshare,\n              completed: false,\n              belongsTo: user.uid,\n              createdAt: firebase.firestore.FieldValue.serverTimestamp()\n            };\n            ref = db.collection('committees');\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(ref.add(committee));\n\n          case 7:\n            addedCommitteeId = _context.sent;\n            junctionRel = {\n              com_id: addedCommitteeId,\n              member_id: user.uid\n            };\n            refJunction = db.collection('com_member_rel');\n            _context.next = 12;\n            return _regeneratorRuntime.awrap(refJunction.add(committjunctionRelee));\n\n          case 12:\n            addedCommitteeId = _context.sent;\n            navigation.goBack();\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 16]], Promise);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Controller, {\n    control: control,\n    render: function render(_ref2) {\n      var _ref2$field = _ref2.field,\n          onChange = _ref2$field.onChange,\n          onBlur = _ref2$field.onBlur,\n          value = _ref2$field.value;\n      return React.createElement(TextInput, {\n        label: \"Name of Committee\",\n        mode: \"outlined\",\n        onBlur: onBlur,\n        onChangeText: onChange,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      });\n    },\n    name: \"nameofcommittee\",\n    rules: {\n      required: true\n    },\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, errors.nameofcommittee && React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 44\n    }\n  }, \" You must enter committee Name\")), React.createElement(Controller, {\n    control: control,\n    render: function render(_ref3) {\n      var _ref3$field = _ref3.field,\n          onChange = _ref3$field.onChange,\n          onBlur = _ref3$field.onBlur,\n          value = _ref3$field.value;\n      return React.createElement(TextInput, {\n        label: \"Committee Share\",\n        mode: \"outlined\",\n        onBlur: onBlur,\n        onChangeText: onChange,\n        value: value,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      });\n    },\n    name: \"committeeshare\",\n    rules: {\n      required: true\n    },\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, errors.committeeshare && React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 39\n    }\n  }, \" Enter Committee Share\")), React.createElement(FAB, {\n    style: styles.fab,\n    icon: \"plus\",\n    onPress: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }));\n};\n\nexport default AddOneCommittee;","map":{"version":3,"sources":["E:/savekarlonative/savekarlo/CommitteeMembers/AddOneCommittee.js"],"names":["React","FAB","TextInput","useForm","Controller","firebase","auth","db","styles","AddOneCommittee","navigation","control","handleSubmit","errors","formState","onSubmit","data","user","currentUser","console","log","committee","comName","nameofcommittee","comShare","committeeshare","completed","belongsTo","uid","createdAt","firestore","FieldValue","serverTimestamp","ref","collection","add","addedCommitteeId","junctionRel","com_id","member_id","refJunction","committjunctionRelee","goBack","field","onChange","onBlur","value","required","fab"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,GAAT,EAAcC,SAAd,QAA+B,oBAA/B;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,iBAApC;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,IAAT,EAAeC,EAAf;AACA,OAAOC,MAAP;;AAGA,IAAMC,eAAe,GAAC,SAAhBA,eAAgB,OACtB;AAAA,MADwBC,UACxB,QADwBA,UACxB;;AAEA,iBAAsDP,OAAO,EAA7D;AAAA,MAAQQ,OAAR,YAAQA,OAAR;AAAA,MAAkBC,YAAlB,YAAkBA,YAAlB;AAAA,MAA4CC,MAA5C,YAAiCC,SAAjC,CAA4CD,MAA5C;;AAEA,MAAME,QAAQ,GAAG,SAAXA,QAAW,CAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAEPC,YAAAA,IAFO,GAEDX,IAAI,CAACY,WAFJ;AAAA;AAITC,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BJ,IAA3B;AACMK,YAAAA,SALG,GAKQ;AACbC,cAAAA,OAAO,EAAEN,IAAI,CAACO,eADD;AAEbC,cAAAA,QAAQ,EAAER,IAAI,CAACS,cAFF;AAGbC,cAAAA,SAAS,EAAE,KAHE;AAIbC,cAAAA,SAAS,EAAEV,IAAI,CAACW,GAJH;AAKbC,cAAAA,SAAS,EAAExB,QAAQ,CAACyB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B;AALE,aALR;AAaHC,YAAAA,GAbG,GAaE1B,EAAE,CAAC2B,UAAH,CAAc,YAAd,CAbF;AAAA;AAAA,6CAgBqBD,GAAG,CAACE,GAAJ,CAAQd,SAAR,CAhBrB;;AAAA;AAgBJe,YAAAA,gBAhBI;AAkBLC,YAAAA,WAlBK,GAkBS;AAAEC,cAAAA,MAAM,EAACF,gBAAT;AACdG,cAAAA,SAAS,EAAEtB,IAAI,CAACW;AADF,aAlBT;AAoBCY,YAAAA,WApBD,GAoBcjC,EAAE,CAAC2B,UAAH,CAAc,gBAAd,CApBd;AAAA;AAAA,6CAqBwBM,WAAW,CAACL,GAAZ,CAAgBM,oBAAhB,CArBxB;;AAAA;AAqBDL,YAAAA,gBArBC;AAuBT1B,YAAAA,UAAU,CAACgC,MAAX;AAvBS;AAAA;;AAAA;AAAA;AAAA;AA0BDvB,YAAAA,OAAO,CAACC,GAAR;;AA1BC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAjB;;AA6BI,SACI,0CACA,oBAAC,UAAD;AACI,IAAA,OAAO,EAAIT,OADf;AAEI,IAAA,MAAM,EAAG;AAAA,8BAAGgC,KAAH;AAAA,UAAWC,QAAX,eAAWA,QAAX;AAAA,UAAqBC,MAArB,eAAqBA,MAArB;AAAA,UAA6BC,KAA7B,eAA6BA,KAA7B;AAAA,aAEL,oBAAC,SAAD;AACA,QAAA,KAAK,EAAC,mBADN;AAEA,QAAA,IAAI,EAAC,UAFL;AAGA,QAAA,MAAM,EAAED,MAHR;AAIA,QAAA,YAAY,EAAED,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFK;AAAA,KAFb;AAYI,IAAA,IAAI,EAAC,iBAZT;AAaI,IAAA,KAAK,EAAE;AAAEG,MAAAA,QAAQ,EAAE;AAAZ,KAbX;AAcI,IAAA,YAAY,EAAC,EAdjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAkBI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKlC,MAAM,CAACU,eAAP,IAA0B,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAD/B,CAlBJ,EAsBI,oBAAE,UAAF;AACA,IAAA,OAAO,EAAIZ,OADX;AAEA,IAAA,MAAM,EAAE;AAAA,8BAAEgC,KAAF;AAAA,UAAUC,QAAV,eAAUA,QAAV;AAAA,UAAqBC,MAArB,eAAqBA,MAArB;AAAA,UAA6BC,KAA7B,eAA6BA,KAA7B;AAAA,aAER,oBAAC,SAAD;AACA,QAAA,KAAK,EAAG,iBADR;AAEA,QAAA,IAAI,EAAE,UAFN;AAIA,QAAA,MAAM,EAAGD,MAJT;AAKA,QAAA,YAAY,EAAGD,QALf;AAMA,QAAA,KAAK,EAAEE,KANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFQ;AAAA,KAFR;AAeJ,IAAA,IAAI,EAAC,gBAfD;AAgBJ,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAhBH;AAiBJ,IAAA,YAAY,EAAC,EAjBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBJ,EAyCA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKlC,MAAM,CAACY,cAAP,IAAyB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAD9B,CAzCA,EA6CE,oBAAC,GAAD;AACA,IAAA,KAAK,EAAEjB,MAAM,CAACwC,GADd;AAEF,IAAA,IAAI,EAAC,MAFH;AAGF,IAAA,OAAO,EAAGpC,YAAY,CAACG,QAAD,CAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7CF,CADJ;AAqDH,CAvFD;;AAwFA,eAAeN,eAAf","sourcesContent":["import React from 'react';\r\nimport {Text , View} from 'react-native';\r\nimport { FAB, TextInput } from 'react-native-paper';\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport firebase from 'firebase'\r\nimport { auth, db } from '../firebase';\r\nimport styles from './styles';\r\n\r\n\r\nconst AddOneCommittee=({navigation})=>\r\n{\r\n\r\nconst { control , handleSubmit , formState:{errors}}= useForm();\r\n\r\nconst onSubmit = async (data)=>\r\n{\r\n    const user= auth.currentUser;\r\n    try{\r\n        console.log(\"The date is\", data)\r\n        const committee ={\r\n            comName: data.nameofcommittee,\r\n            comShare: data.committeeshare,\r\n            completed: false,\r\n            belongsTo: user.uid,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        }\r\n\r\n        const ref= db.collection('committees');\r\n\r\n       \r\n         var addedCommitteeId = await ref.add(committee);\r\n\r\n        var junctionRel = { com_id:addedCommitteeId,\r\n            member_id: user.uid}\r\n            const refJunction= db.collection('com_member_rel');\r\n            var addedCommitteeId = await refJunction.add(committjunctionRelee);\r\n    \r\n        navigation.goBack();\r\n            }\r\n            catch(err){\r\n                console.log(err)\r\n            }\r\n}\r\n    return(\r\n        <>\r\n        <Controller\r\n            control = {control}\r\n            render ={({ field:{ onChange, onBlur, value}})=>\r\n            (\r\n                <TextInput \r\n                label=\"Name of Committee\"\r\n                mode=\"outlined\"\r\n                onBlur={onBlur}\r\n                onChangeText={onChange}\r\n                />\r\n            )}\r\n\r\n            name=\"nameofcommittee\"\r\n            rules={{ required: true}}\r\n            defaultValue=\"\"        \r\n\r\n            />\r\n            <View >\r\n                {errors.nameofcommittee && <Text> You must enter committee Name</Text>}\r\n            </View>\r\n\r\n            < Controller\r\n            control = {control}\r\n            render={({field:{ onChange , onBlur, value}})=>\r\n        (\r\n            <TextInput\r\n            label = \"Committee Share\"\r\n            mode= \"outlined\"\r\n            \r\n            onBlur= {onBlur}\r\n            onChangeText= {onChange}\r\n            value={value}\r\n            />\r\n          \r\n        )\r\n        }\r\n        name=\"committeeshare\"\r\n        rules={{ required: true}}\r\n        defaultValue=\"\"\r\n        />\r\n        <View>\r\n            {errors.committeeshare && <Text> Enter Committee Share</Text>}\r\n        </View>\r\n\r\n          <FAB\r\n          style={styles.fab}\r\n        icon=\"plus\"\r\n        onPress= {handleSubmit(onSubmit)}\r\n        />\r\n        </>\r\n    )\r\n}\r\nexport default AddOneCommittee;"]},"metadata":{},"sourceType":"module"}