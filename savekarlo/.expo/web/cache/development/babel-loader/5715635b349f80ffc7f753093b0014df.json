{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"E:\\\\savekarlonative\\\\savekarlo\\\\LoginRegister\\\\RegisterScreen.js\";\n\nimport React, { useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { TextInput, Button } from \"react-native-paper\";\nimport { auth, db } from \"../firebase\";\n\nvar RegisterScreen = function RegisterScreen(navigation) {\n  var _useForm = useForm(),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.formState.errors,\n      watch = _useForm.watch,\n      register = _useForm.register;\n\n  var password = useRef({});\n  password.current = watch(\"password\", \"\");\n\n  var onSubmit = function onSubmit(formData) {\n    var email = formData.email,\n        password = formData.password;\n    auth.createUserWithEmailAndPassword(email.trim().toLowerCase(), password).then(function (user) {\n      console.log(user.user.uid);\n      var member = {\n        email: email.trim().toLowerCase(),\n        memberpassword: password,\n        uid: user.user.uid,\n        memberName: email.trim().toLowerCase()\n      };\n      var ref = db.collection(\"members\");\n      ref.add(member).then(function () {});\n    });\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, React.createElement(Controller, {\n    control: control,\n    render: function render(_ref) {\n      var _ref$field = _ref.field,\n          onChange = _ref$field.onChange,\n          onBlur = _ref$field.onBlur,\n          value = _ref$field.value;\n      return React.createElement(TextInput, {\n        label: \"Email\",\n        mode: \"outlined\",\n        onBlur: onBlur,\n        onChangeText: onChange,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }\n      });\n    },\n    name: \"email\",\n    rules: {\n      required: true\n    },\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, errors.email && React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 30\n    }\n  }, \" You must enter email\")), React.createElement(Controller, {\n    control: control,\n    render: function render(_ref2) {\n      var _ref2$field = _ref2.field,\n          onChange = _ref2$field.onChange,\n          onBlur = _ref2$field.onBlur,\n          value = _ref2$field.value;\n      return React.createElement(TextInput, {\n        label: \"Password\",\n        mode: \"outlined\",\n        secureTextEntry: true,\n        onBlur: onBlur,\n        onChangeText: onChange,\n        value: value,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      });\n    },\n    name: \"password\",\n    rules: {\n      required: true\n    },\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, errors.password && React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 33\n    }\n  }, \" Enter password\")), React.createElement(Controller, {\n    control: control,\n    render: function render(_ref3) {\n      var _ref3$field = _ref3.field,\n          onChange = _ref3$field.onChange,\n          onBlur = _ref3$field.onBlur,\n          value = _ref3$field.value;\n      return React.createElement(TextInput, {\n        label: \"Confirm password\",\n        mode: \"outlined\",\n        secureTextEntry: true,\n        onBlur: onBlur,\n        onChangeText: onChange,\n        value: value,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      });\n    },\n    name: \"passwordConf\",\n    rules: {\n      required: true,\n      validate: function validate(value) {\n        return value === password.current || \"The passwords does not match\";\n      }\n    },\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, errors.passwordConf && React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, errors.passwordConf.message)), React.createElement(Button, {\n    mode: \"contained\",\n    compact: false,\n    onPress: handleSubmit(onSubmit),\n    icon: \"account-plus\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Register Account\"), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \" Do you already have an account?\")), React.createElement(Button, {\n    mode: \"outlined\",\n    icon: \"account-arrow-right\",\n    compact: true,\n    onPress: function onPress() {\n      return navigation.goBack;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"SignIn\"));\n};\n\nexport default RegisterScreen;","map":{"version":3,"sources":["E:/savekarlonative/savekarlo/LoginRegister/RegisterScreen.js"],"names":["React","useRef","useForm","Controller","TextInput","Button","auth","db","RegisterScreen","navigation","control","handleSubmit","errors","formState","watch","register","password","current","onSubmit","formData","email","createUserWithEmailAndPassword","trim","toLowerCase","then","user","console","log","uid","member","memberpassword","memberName","ref","collection","add","field","onChange","onBlur","value","required","validate","passwordConf","message","goBack"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\r\nimport { View, Text } from \"react-native\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { TextInput, Button } from \"react-native-paper\";\r\nimport { auth, db } from \"../firebase\";\r\n\r\nconst RegisterScreen = (navigation) => {\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    watch,\r\n    register,\r\n  } = useForm();\r\n\r\n  const password = useRef({});\r\n  password.current = watch(\"password\", \"\");\r\n\r\n  const onSubmit = (formData) => {\r\n    const { email, password } = formData;\r\n    auth\r\n      .createUserWithEmailAndPassword(email.trim().toLowerCase(), password)\r\n      .then((user) => {\r\n        console.log(user.user.uid);\r\n        var member = {\r\n          email: email.trim().toLowerCase(),\r\n          memberpassword: password,\r\n          uid: user.user.uid,\r\n          memberName: email.trim().toLowerCase(),\r\n        };\r\n        const ref = db.collection(\"members\");\r\n        ref.add(member).then(() => {});\r\n      });\r\n  };\r\n  return (\r\n    <View>\r\n      <Controller\r\n        control={control}\r\n        render={({ field: { onChange, onBlur, value } }) => (\r\n          <TextInput\r\n            label=\"Email\"\r\n            mode=\"outlined\"\r\n            onBlur={onBlur}\r\n            onChangeText={onChange}\r\n          />\r\n        )}\r\n        name=\"email\"\r\n        rules={{ required: true }}\r\n        defaultValue=\"\"\r\n      />\r\n      <View>{errors.email && <Text> You must enter email</Text>}</View>\r\n\r\n      <Controller\r\n        control={control}\r\n        render={({ field: { onChange, onBlur, value } }) => (\r\n          <TextInput\r\n            label=\"Password\"\r\n            mode=\"outlined\"\r\n            secureTextEntry\r\n            onBlur={onBlur}\r\n            onChangeText={onChange}\r\n            value={value}\r\n          />\r\n        )}\r\n        name=\"password\"\r\n        rules={{ required: true }}\r\n        defaultValue=\"\"\r\n      />\r\n      <View>{errors.password && <Text> Enter password</Text>}</View>\r\n\r\n      <Controller\r\n        control={control}\r\n        render={({ field: { onChange, onBlur, value } }) => (\r\n          <TextInput\r\n            label=\"Confirm password\"\r\n            mode=\"outlined\"\r\n            secureTextEntry\r\n            onBlur={onBlur}\r\n            onChangeText={onChange}\r\n            value={value}\r\n          />\r\n        )}\r\n        name=\"passwordConf\"\r\n        rules={{\r\n          required: true,\r\n          validate: (value) =>\r\n            value === password.current || \"The passwords does not match\",\r\n        }}\r\n        defaultValue=\"\"\r\n      />\r\n      <View>\r\n        {errors.passwordConf && <Text>{errors.passwordConf.message}</Text>}\r\n      </View>\r\n      <Button\r\n        mode=\"contained\"\r\n        compact={false}\r\n        onPress={handleSubmit(onSubmit)}\r\n        icon=\"account-plus\"\r\n      >\r\n        Register Account\r\n      </Button>\r\n      <View>\r\n        <Text> Do you already have an account?</Text>\r\n      </View>\r\n      <Button\r\n        mode=\"outlined\"\r\n        icon=\"account-arrow-right\"\r\n        compact\r\n        onPress={() => navigation.goBack}\r\n      >\r\n        SignIn\r\n      </Button>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n"]},"metadata":{},"sourceType":"module"}