{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\savekarlonative\\\\savekarlo\\\\CommitteeMembers\\\\CommitteeDetailbyMember\\\\AddMember.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { FAB, TextInput } from \"react-native-paper\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport firebase from \"firebase\";\nimport { auth, db } from \"../../firebase\";\nimport styles from \"../../styles\";\nimport { Picker } from '@react-native-picker/picker';\n\nvar AddOneCommittee = function AddOneCommittee(_ref) {\n  var navigation = _ref.navigation;\n  onChangePicker();\n  useEffect(function () {\n    var ref = db.collection(\"com_member_rel\");\n    var databymemberCommitteeid = ref.where(\"member_id\", \"==\", user.uid, \"&&\", \"com_id\", \"==\", comId);\n    ref.onSnapshot(function (query) {\n      var objs = [];\n      query.forEach(function (doc) {\n        objs.push(_objectSpread({\n          id: doc.id\n        }, doc.data()));\n      });\n      setCom_member_rel(objs);\n    });\n  }, []);\n\n  var _useForm = useForm(),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.formState.errors;\n\n  var onSubmit = function onSubmit(data) {\n    var user, committee, ref, addedCommitteeId, junctionRel, refJunction;\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            user = auth.currentUser;\n            _context.prev = 1;\n            console.log(\"The date is\", data);\n            committee = {\n              comName: data.nameofcommittee,\n              comShare: data.committeeshare,\n              completed: false,\n              belongsTo: user.uid,\n              createdAt: firebase.firestore.FieldValue.serverTimestamp()\n            };\n            ref = db.collection(\"committees\");\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(ref.add(committee));\n\n          case 7:\n            addedCommitteeId = _context.sent;\n            junctionRel = {\n              com_id: addedCommitteeId.id,\n              member_id: user.uid,\n              Jan: false,\n              Feb: false,\n              Mar: false,\n              Apr: false,\n              May: false,\n              Jun: false,\n              Jul: false,\n              Aug: false,\n              Sep: false,\n              Oct: false,\n              Nov: false,\n              Dec: false\n            };\n            refJunction = db.collection(\"com_member_rel\");\n            _context.next = 12;\n            return _regeneratorRuntime.awrap(refJunction.add(junctionRel));\n\n          case 12:\n            navigation.goBack();\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 15]], Promise);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Picker, {\n    selectedValue: selectedLanguage,\n    onValueChange: function onValueChange() {\n      return onChangePicker();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, React.createElement(Picker.Item, {\n    label: \"Java\",\n    value: \"java\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 3\n    }\n  }), React.createElement(Picker.Item, {\n    label: \"JavaScript\",\n    value: \"js\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  })), React.createElement(FAB, {\n    style: styles.fab,\n    icon: \"plus\",\n    onPress: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default AddOneCommittee;","map":{"version":3,"sources":["E:/savekarlonative/savekarlo/CommitteeMembers/CommitteeDetailbyMember/AddMember.js"],"names":["React","useEffect","FAB","TextInput","useForm","Controller","firebase","auth","db","styles","Picker","AddOneCommittee","navigation","onChangePicker","ref","collection","databymemberCommitteeid","where","user","uid","comId","onSnapshot","query","objs","forEach","doc","push","id","data","setCom_member_rel","control","handleSubmit","errors","formState","onSubmit","currentUser","console","log","committee","comName","nameofcommittee","comShare","committeeshare","completed","belongsTo","createdAt","firestore","FieldValue","serverTimestamp","add","addedCommitteeId","junctionRel","com_id","member_id","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","refJunction","goBack","selectedLanguage","fab"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport { Text, View } from \"react-native\";\r\nimport { FAB, TextInput } from \"react-native-paper\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport firebase from \"firebase\";\r\nimport { auth, db } from \"../../firebase\";\r\nimport styles from \"../../styles\";\r\nimport {Picker} from '@react-native-picker/picker';\r\n\r\nconst AddOneCommittee = ({ navigation }) => {\r\n\r\nonChangePicker()\r\n    useEffect(() => {\r\n        const ref = db.collection(\"com_member_rel\");\r\n        const databymemberCommitteeid=\r\n         ref.where(\"member_id\",\"==\",user.uid, \"&&\", \"com_id\", \"==\", comId)\r\n        ref.onSnapshot((query) => {\r\n          const objs = [];\r\n          query.forEach((doc) => {\r\n            objs.push({\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            });\r\n          });\r\n          setCom_member_rel(objs);\r\n        });\r\n      }, []);\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    const user = auth.currentUser;\r\n    try {\r\n      console.log(\"The date is\", data);\r\n      const committee = {\r\n        comName: data.nameofcommittee,\r\n        comShare: data.committeeshare,\r\n        completed: false,\r\n        belongsTo: user.uid,\r\n        createdAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      };\r\n\r\n      const ref = db.collection(\"committees\");\r\n\r\n      var addedCommitteeId = await ref.add(committee);\r\n      var junctionRel = { com_id: addedCommitteeId.id, member_id: user.uid\r\n    , Jan: false , Feb: false, Mar: false, Apr: false , May: false\r\n    , Jun: false , Jul: false , Aug: false , Sep: false, Oct: false, Nov: false\r\n        ,Dec: false };\r\n      const refJunction = db.collection(\"com_member_rel\");\r\n      await refJunction.add(junctionRel);\r\n\r\n      navigation.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Picker\r\n  selectedValue={selectedLanguage}\r\n  onValueChange={() =>\r\n    onChangePicker()\r\n  }>\r\n  <Picker.Item label=\"Java\" value=\"java\" />\r\n  <Picker.Item label=\"JavaScript\" value=\"js\" />\r\n</Picker>\r\n      <FAB style={styles.fab} icon=\"plus\" onPress={handleSubmit(onSubmit)} />\r\n      \r\n    </>\r\n  );\r\n};\r\nexport default AddOneCommittee;\r\n"]},"metadata":{},"sourceType":"module"}